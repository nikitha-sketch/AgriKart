<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AgriMart Sign Up</title>
  <style>
    body {
      font-family: Arial, sans-serif;
     
      background-repeat: no-repeat;
      background-position: center center;
      background-attachment: fixed;
      background-size: cover;
      margin: 0;
      height: 100vh;
    }
    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      height: 100vh;
      width: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1;
    }
    .lang-select {
      position: absolute;
      top: 20px;
      right: 30px;
      z-index: 3;
    }
    .container {
      position: relative;
      z-index: 2;
      background-color: white;
      padding: 30px;
      border-radius: 12px;
      width: 350px;
      margin: auto;
      top: 15%;
      text-align: center;
    }
    input, button, select {
      margin: 10px 0;
      padding: 10px;
      width: 100%;
    }
    button {
      background-color: green;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <div class="overlay"></div>

  <div class="lang-select">
    <label for="lang">üåê</label>
    <select id="lang" onchange="changeLanguage(this.value)">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
      <option value="ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
    </select>
  </div>

  <div class="container">
    <h2 id="title">Sign Up for AgriMart</h2>
    <form id="signupForm">
      <input type="text" id="name" placeholder="Full Name" required />
      <input type="text" id="phone" placeholder="Phone Number" required />
      <input type="text" id="address" placeholder="Address" required />
      <input type="email" id="email" placeholder="Email" required />
      <input type="password" id="password" placeholder="Password" required minlength="6" />
      <button type="submit" id="signupBtn">Sign Up</button>
    </form>
    <p style="margin-top: 10px;">
      Already have an account? <a href="login.html">Sign in</a>
    </p>
  </div>

  <script>
    const translations = {
      en: {
        title: "Sign Up for AgriMart",
        name: "Full Name",
        phone: "Phone Number",
        address: "Address",
        email: "Email",
        password: "Password",
        signupBtn: "Sign Up"
      },
      hi: {
        title: "‡§è‡§ó‡•ç‡§∞‡•Ä‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§æ‡§á‡§® ‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç",
        name: "‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ",
        phone: "‡§´‡§º‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞",
        address: "‡§™‡§§‡§æ",
        email: "‡§à‡§Æ‡•á‡§≤",
        password: "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°",
        signupBtn: "‡§∏‡§æ‡§á‡§® ‡§Ö‡§™ ‡§ï‡§∞‡•á‡§Ç"
      },
      te: {
        title: "AgriMart ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞∏‡±à‡∞®‡±ç ‡∞Ö‡∞™‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø",
        name: "‡∞™‡±Ç‡∞∞‡±ç‡∞§‡∞ø ‡∞™‡±á‡∞∞‡±Å",
        phone: "‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç",
        address: "‡∞ö‡∞ø‡∞∞‡±Å‡∞®‡∞æ‡∞Æ‡∞æ",
        email: "‡∞á‡∞Æ‡±Ü‡∞Ø‡∞ø‡∞≤‡±ç",
        password: "‡∞™‡∞æ‡∞∏‡±ç‡∞µ‡∞∞‡±ç‡∞°‡±ç",
        signupBtn: "‡∞∏‡±à‡∞®‡±ç ‡∞Ö‡∞™‡±ç"
      },
      ta: {
        title: "‡ÆÖ‡Æï‡Øç‡Æ∞‡Æø‡ÆÆ‡Ææ‡Æ∞‡Øç‡Æü‡Øç ‡Æá‡Æ≤‡Øç ‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æµ‡ØÅ‡ÆÆ‡Øç",
        name: "‡ÆÆ‡ØÅ‡Æ¥‡ØÅ ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç",
        phone: "‡Æ§‡ØÜ‡Ææ‡Æ≤‡Øà‡Æ™‡Øá‡Æö‡Æø ‡Æé‡Æ£‡Øç",
        address: "‡ÆÆ‡ØÅ‡Æï‡Æµ‡Æ∞‡Æø",
        email: "‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç",
        password: "‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç",
        signupBtn: "‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡Æï"
      },
      ml: {
        title: "‡¥Ö‡¥ó‡µç‡¥∞‡¥ø‡¥Æ‡¥æ‡µº‡¥ü‡µç‡¥ü‡¥ø‡¥≤‡µá‡¥ï‡µç‡¥ï‡µç ‡¥∏‡µà‡µª ‡¥Ö‡¥™‡µç‡¥™‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï",
        name: "‡¥™‡µÇ‡¥∞‡µç‚Äç‡¥£‡¥®‡¥æ‡¥Æ‡¥Ç",
        phone: "‡¥´‡µã‡µ∫ ‡¥®‡¥Æ‡µç‡¥™‡µº",
        address: "‡¥µ‡¥ø‡¥≤‡¥æ‡¥∏‡¥Ç",
        email: "‡¥á‡¥Æ‡µÜ‡¥Ø‡¥ø‡µΩ",
        password: "‡¥™‡¥æ‡¥∏‡µç‡¥µ‡µá‡¥°‡µç",
        signupBtn: "‡¥∏‡µà‡µª ‡¥Ö‡¥™‡µç‡¥™‡µç"
      }
    };

    function changeLanguage(lang) {
      localStorage.setItem("lang", lang);
      const t = translations[lang];
      document.getElementById("title").innerText = t.title;
      document.getElementById("name").placeholder = t.name;
      document.getElementById("phone").placeholder = t.phone;
      document.getElementById("address").placeholder = t.address;
      document.getElementById("email").placeholder = t.email;
      document.getElementById("password").placeholder = t.password;
      document.getElementById("signupBtn").innerText = t.signupBtn;
    }

    window.onload = () => {
      const savedLang = localStorage.getItem("lang") || "en";
      document.getElementById("lang").value = savedLang;
      changeLanguage(savedLang);
    };

   document.getElementById("signupForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const user = {
    fullName: document.getElementById("name").value.trim(),
    phoneNumber: document.getElementById("phone").value.trim(),
    address: document.getElementById("address").value.trim(),
    email: document.getElementById("email").value.trim().toLowerCase(),
    password: document.getElementById("password").value
  };

  fetch("http://localhost:8080/api/users/sign_up", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(user)
  })
  .then(response => {
    if (!response.ok) {
      throw new Error("Signup failed");
    }
    return response.text(); // or .json() depending on your backend response
  })
  .then(data => {
    alert("Sign up successful! Please login now.");
    window.location.href = "login.html";
  })
  .catch(error => {
    console.error(error);
    alert("Error during signup: " + error.message);
  });
});

  </script>
</body>
</html>

